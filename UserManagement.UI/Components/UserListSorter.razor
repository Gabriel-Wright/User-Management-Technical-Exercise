<div class="d-flex align-items-center">
    <label class="me-2">Sort by:</label>
    <select class="form-select w-auto" @bind="SelectedSortField">
        <option value="id">Id</option>
        <option value="forename">Forename</option>
        <option value="surname">Surname</option>
        <option value="email">Email</option>
    </select>

    <select class="form-select w-auto ms-2" @bind="SelectedSortDirection">
        <option value="false">Ascending</option>
        <option value="true">Descending</option>
    </select>

    <button class="btn btn-primary ms-2" @onclick="ApplySort">Apply</button>
</div>

@code {
    [Parameter] public string SortField { get; set; } = "id";
    [Parameter] public bool Descending { get; set; } = false;
    [Parameter] public EventCallback<(string sortBy, bool sortDesc)> OnSortChanged { get; set; }

    private string SelectedSortField { get; set; } = "id";
    private string SelectedSortDirection { get; set; } = "false";

    private bool IsDescending => SelectedSortDirection == "true";

    protected override void OnParametersSet()
    {
        SelectedSortField = SortField;
        SelectedSortDirection = Descending ? "true" : "false";
    }

    private async Task ApplySort()
    {
        await OnSortChanged.InvokeAsync((SelectedSortField, IsDescending));
    }
}